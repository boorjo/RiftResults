<div class="fondo">
  <header class="fondo">
    <div class="align-items-center d-flex justify-content-between">
      <img src="../assets/img/RiftResults Logo.jpg" class="img-fluid" width="8%" alt="Logo" />
      <img src="../assets/img/RiftResults letras.png" class="img-fluid" width="18%" alt="Rift Results" />
      <nav id="nav" class="navbar navbar-expand-lg navbar-dark ">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" style="font-size: 0.8rem;"
          data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" [routerLink]="['/']">INICIO</a>
            </li>
            <!-- <li class="nav-item">
              <a class="nav-link" href="#">LIGA</a>
            </li> -->
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/Inicio/Equipos']" routerLinkActive="router-link-active">EQUIPOS</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/Inicio/Campeones']" routerLinkActive="router-link-active">CAMPEONES</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/Inicio/Foro']" routerLinkActive="router-link-active">FORO</a>
            </li>
            <li class="nav-item">
              <form class="form-inline d-flex flex-row form-control-sm">
                <input class="form-control mr-sm-2 form-control-sm" type="search" placeholder="Buscar" aria-label="Buscar" />
                <button class="btn btn-outline-secondary my-2 my-sm-0 d-flex" type="submit">
                  <img src="../assets/img/lupa.png" class="img-fluid" width="20px" alt="Buscar" />
                </button>
              </form>
            </li>
          </ul>
        </div>
      </nav>
      
      <div class="align-items-end">
        <!-- si hay un objeto sesion CLIENTE muestro el boton con su email y nombre y apellidos para q acceda a su PANEL, sino al LOGIN-->
        @if ( this.datoscliente() ) {
        <div class="d-flex justify-content-end mx-2">
          <a [routerLink]="['/Cliente/PanelCliente']" routerLinkActive="router-link-active"
            class="btn bg-negro btn-sm">
            <i class="fa fa-light fa-user mx-2 my-1 text-white-50 ablanco"></i>
            <p class="nav-link text-white-50 d-flex ablanco">{{datoscliente()?.cuenta?.email}}</p>
          </a>
          <button class="pl-3 btn btn-sm btn-outline-secondary" (click)="CerrarSesion()"><i class="fa fa-solid fa-right-from-bracket text-white-50 ablanco"></i> Cerrar Sesión</button>
        </div>
        }

        @else {
          <div class="d-flex justify-content-end m-lg-5 ">
            <a [routerLink]="['/Cliente/Login']" routerLinkActive="router-link-active"
            class="nav-link text-white-50 d-flex ablanco">
              Iniciar sesión
              <i class="fa fa-light fa-user mx-2 my-1"></i>
            </a>
          </div>
        }

      </div>
    </div>
  </header>

  <main class="container">
    @if (this.datoscliente() && datoscliente()?.cuenta?.esAdmin) {
      <div class="d-flex">
        <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          <button class="btn btn-light mb-3 btn-gris" type="button" data-bs-toggle="collapse" 
                  data-bs-target="#v-pills-tabContent" aria-controls="v-pills-tabContent" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleMenu()">
            @if (isMenuOpen()) {
              <i class="fa fa-chevron-left"></i>
            } @else {
              <i class="fa fa-chevron-right"></i>
            }
          </button>
          <div class="nav flex-column nav-pills me-3 collapse" id="v-pills-tabContent" role="tabpanel" aria-labelledby="v-pills-tab">
            <a class="nav-link btn-gris" id="v-pills-usuarios-tab" [routerLink]="['/Admin/Usuarios']" routerLinkActive="router-link-active" style="font-size: 0.8rem; white-space: nowrap;"><i class="fa fa-user"></i> Usuarios</a>
            <a class="nav-link btn-gris mt-2" id="v-pills-publicaciones-tab" [routerLink]="['/Inicio/Foro']" routerLinkActive="router-link-active" style="font-size: 0.8rem; white-space: nowrap;"><i class="fa fa-comments"></i> Posts </a>
          </div>
        </div>
        <div class="flex-grow-1">
          <router-outlet></router-outlet> <!-- aqui se renderiza cada comp-->
        </div>
      </div>
    } @else {
      <router-outlet></router-outlet>
    }
  </main>


  <footer class="fondo mt-4">
    <div class="container">
      <div class="row align-items-center justify-content-between p-3">
        <div class="col-12 col-md-6 text-center text-md-left mb-3 mb-md-0">
          <img src="../assets/img/RiftResults letras.png" class="img-fluid mx-5" width="35%">
          <img src="../assets/img/LoL-letras.png" class="img-fluid" width="30%">
        </div>
        <div class="col-12 col-md-6 text-center text-md-right">
          <p class="text-white-50 mb-2" style="font-size: 0.8rem;">© RiftResults 2024 Todos los derechos reservados</p>
          <p class="mb-2" style="font-size: 0.8rem;"><a class="nav-link ablanco" [routerLink]="['/TerminosYPrivacidad']">Términos de servicio</a></p>
          <p style="font-size: 0.8rem;"><a class="nav-link ablanco" [routerLink]="['/TerminosYPrivacidad']">Privacidad</a></p>
        </div>
      </div>
    </div>
  </footer>
</div>
